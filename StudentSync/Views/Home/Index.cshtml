@{
    ViewBag.Title = "Home Page";
    ViewBag.pTitle = "DashBoard";
    ViewBag.pageTitle = "Student Sync";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row">
    <!-- TotalBatches -->
    <div class="col-md-6 col-xl-3">
        <div class="card">
            <div class="card-body">
                <div class="float-end mt-2">
                    <p class="text-muted mb-0">Batches</p>
                    <div id="batches-chart"></div>
                    

                </div>
                <div>
                    <h4 class="mb-1 mt-1"><span data-plugin="counterup">@ViewBag.TotalBatches</span></h4>
                    
                </div>
                <p class="text-muted mt-3 mb-0">
                    <span class="text-danger me-1"><i class="mdi mdi-arrow-down-bold me-1"></i>6.24%</span> since last week
                </p>
            </div>
        </div>
    </div> <!-- end col-->

    <!-- TotalEmployees -->
    <div class="col-md-6 col-xl-3">
        <div class="card">
            <div class="card-body">
                <div class="float-end mt-2">
                    <p class="text-muted mb-0">Employee</p>

                    <div id="employees-chart"></div>
                </div>
                <div>
                    <h4 class="mb-1 mt-1"><span data-plugin="counterup">@ViewBag.TotalEmployees</span></h4>
                </div>
                <p class="text-muted mt-3 mb-0">
                    <span class="text-success me-1"><i class="mdi mdi-arrow-up-bold me-1"></i>2.65%</span> since last week
                </p>
            </div>
        </div>
    </div> <!-- end col-->

    <!-- Total Enrollments -->
    <div class="col-md-6 col-xl-3">
        <div class="card">
            <div class="card-body">
                <div class="float-end mt-2">
                    <p class="text-muted mb-0">Enrollments</p>

                    <div id="enrollments-chart"></div>
                </div>
                <div>
                    <h4 class="mb-1 mt-1"><span data-plugin="counterup">@ViewBag.TotalEnrollments</span></h4>
                </div>
                <p class="text-muted mt-3 mb-0">
                    <span class="text-danger me-1"><i class="mdi mdi-arrow-down-bold me-1"></i>6.24%</span> since last week
                </p>
            </div>
        </div>
    </div> <!-- end col-->

    <!-- Total Courses -->
    <div class="col-md-6 col-xl-3">
        <div class="card">
            <div class="card-body">
                <div class="float-end mt-2">
                    <p class="text-muted mb-0">Courses</p>

                    <div id="courses-chart"></div>
                </div>
                <div>
                    <h4 class="mb-1 mt-1"><span data-plugin="counterup">@ViewBag.TotalCourses</span></h4>
                </div>
                <p class="text-muted mt-3 mb-0">
                    <span class="text-success me-1"><i class="mdi mdi-arrow-up-bold me-1"></i>2.65%</span> since last week
                </p>
            </div>
        </div>
    </div> <!-- end col-->

    <!-- Total Course Exams -->
    <div class="col-md-6 col-xl-3">
        <div class="card">
            <div class="card-body">
                <div class="float-end mt-2">
                    <p class="text-muted mb-0">CourseExams</p>

                    <div id="course-exams-chart"></div>
                </div>
                <div>
                    <h4 class="mb-1 mt-1"><span data-plugin="counterup">@ViewBag.TotalCourseExams</span></h4>
                </div>
                <p class="text-muted mt-3 mb-0">
                    <span class="text-danger me-1"><i class="mdi mdi-arrow-down-bold me-1"></i>6.24%</span> since last week
                </p>
            </div>
        </div>
    </div> <!-- end col-->

    <!-- Total Inquiries -->
    <div class="col-md-6 col-xl-3">
        <div class="card">
            <div class="card-body">
                <div class="float-end mt-2">
                    <p class="text-muted mb-0">Inquiries</p>

                    <div id="inquiries-chart"></div>
                </div>
                <div>
                    <h4 class="mb-1 mt-1"><span data-plugin="counterup">@ViewBag.TotalInquiries</span></h4>
                </div>
                <p class="text-muted mt-3 mb-0">
                    <span class="text-danger me-1"><i class="mdi mdi-arrow-down-bold me-1"></i>6.24%</span> since last week
                </p>
            </div>
        </div>
    </div> <!-- end col-->

    <!-- Total Student Assessments -->
    <div class="col-md-6 col-xl-3">
        <div class="card">
            <div class="card-body">
                <div class="float-end mt-2">
                    <p class="text-muted mb-0">StudAssessments</p>

                    <div id="student-assessments-chart"></div>
                </div>
                <div>
                    <h4 class="mb-1 mt-1"><span data-plugin="counterup">@ViewBag.TotalStudentAssessments</span></h4>
                </div>
                <p class="text-muted mt-3 mb-0">
                    <span class="text-success me-1"><i class="mdi mdi-arrow-up-bold me-1"></i>2.65%</span> since last week
                </p>
            </div>
        </div>
    </div> <!-- end col-->

    <!-- Total Student Attendance -->
    <div class="col-md-6 col-xl-3">
        <div class="card">
            <div class="card-body">
                <div class="float-end mt-2">
                    <p class="text-muted mb-0"> StudAttendance</p>

                    <div id="attendance-chart"></div>
                </div>
                <div>
                    <h4 class="mb-1 mt-1"><span data-plugin="counterup">@ViewBag.TotalStudentAttendance</span></h4>
                </div>
                <p class="text-muted mt-3 mb-0">
                    <span class="text-danger me-1"><i class="mdi mdi-arrow-down-bold me-1"></i>6.24%</span> since last week
                </p>
            </div>
        </div>
    </div> <!-- end col-->
</div> <!-- end row -->

<div class="row">
    <div class="col-xl-12">
        <div class="card">
            <div class="card-body">
                <div class="float-end">
                    <div class="dropdown">
                        <a class="dropdown-toggle text-reset" href="#" id="dropdownMenuButton5"
                           data-bs-toggle="dropdown" aria-haspopup="true"
                           aria-expanded="false">
                            <span class="fw-semibold">Sort By:</span> <span class="text-muted">Yearly<i class="mdi mdi-chevron-down ms-1"></i></span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenuButton5">
                            <a class="dropdown-item" href="#">Monthly</a>
                            <a class="dropdown-item" href="#">Yearly</a>
                            <a class="dropdown-item" href="#">Weekly</a>
                        </div>
                    </div>
                </div>
                <h4 class="card-title mb-4">Student Sync Analytics</h4>

                <div class="mt-1">
                    <ul class="list-inline main-chart mb-0">
                        <li class="list-inline-item chart-border-left me-0 border-0">
                            <h3 class="text-primary"><span data-plugin="counterup">@ViewBag.TotalEmployees</span><span class="text-muted d-inline-block font-size-15 ms-3">Employees</span></h3>
                        </li>
                        <li class="list-inline-item chart-border-left me-0">
                            <h3><span data-plugin="counterup">@ViewBag.TotalBatches</span><span class="text-muted d-inline-block font-size-15 ms-3">Batches</span></h3>
                        </li>
                        <li class="list-inline-item chart-border-left me-0">
                            <h3><span data-plugin="counterup">@ViewBag.TotalCourses</span><span class="text-muted d-inline-block font-size-15 ms-3">Courses</span></h3>
                        </li>
                        <li class="list-inline-item chart-border-left me-0">
                            <h3><span data-plugin="counterup">@ViewBag.TotalInquiries</span><span class="text-muted d-inline-block font-size-15 ms-3">Inquiries</span></h3>
                        </li>
                        <li class="list-inline-item chart-border-left me-0">
                            <h3><span data-plugin="counterup">@ViewBag.TotalEnrollments</span><span class="text-muted d-inline-block font-size-15 ms-3">Enrollments</span></h3>
                        </li>
                        <li class="list-inline-item chart-border-left me-0">
                            <h3><span data-plugin="counterup">@ViewBag.TotalCourseFees</span><span class="text-muted d-inline-block font-size-15 ms-3">Course Fees</span></h3>
                        </li>
                        <li class="list-inline-item chart-border-left me-0">
                            <h3><span data-plugin="counterup">@ViewBag.TotalStudentAssessments</span><span class="text-muted d-inline-block font-size-15 ms-3">Student Assessments</span></h3>
                        </li>
                        <li class="list-inline-item chart-border-left me-0">
                            <h3><span data-plugin="counterup">@ViewBag.TotalCourseExams</span><span class="text-muted d-inline-block font-size-15 ms-3">Course Exams</span></h3>
                        </li>
                        <li class="list-inline-item chart-border-left me-0">
                            <h3><span data-plugin="counterup">@ViewBag.TotalStudentAttendance</span><span class="text-muted d-inline-block font-size-15 ms-3">Student Attendance</span></h3>
                        </li>
                    </ul>
                </div>

                <div class="mt-3">
                    <div id="sales-analytics-chart" class="apex-charts" dir="ltr"></div>
                </div>
            </div>
        </div><!-- end card -->
    </div><!-- end col -->
</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var analyticsData = @Html.Raw(ViewBag.AnalyticsData);

            var options = {
                series: [{
                    name: 'Employees',
                    data: [analyticsData.totalEmployees, analyticsData.totalEmployees, analyticsData.totalEmployees, analyticsData.totalEmployees, analyticsData.totalEmployees, analyticsData.totalEmployees, analyticsData.totalEmployees]
                }, {
                    name: 'Batches',
                    data: [analyticsData.totalBatches, analyticsData.totalBatches, analyticsData.totalBatches, analyticsData.totalBatches, analyticsData.totalBatches, analyticsData.totalBatches, analyticsData.totalBatches]
                }, {
                    name: 'Courses',
                    data: [analyticsData.totalCourses, analyticsData.totalCourses, analyticsData.totalCourses, analyticsData.totalCourses, analyticsData.totalCourses, analyticsData.totalCourses, analyticsData.totalCourses]
                }, {
                    name: 'Inquiries',
                    data: [analyticsData.totalInquiries, analyticsData.totalInquiries, analyticsData.totalInquiries, analyticsData.totalInquiries, analyticsData.totalInquiries, analyticsData.totalInquiries, analyticsData.totalInquiries]
                }, {
                    name: 'Enrollments',
                    data: [analyticsData.totalEnrollments, analyticsData.totalEnrollments, analyticsData.totalEnrollments, analyticsData.totalEnrollments, analyticsData.totalEnrollments, analyticsData.totalEnrollments, analyticsData.totalEnrollments]
                }, {
                    name: 'Course Fees',
                    data: [analyticsData.totalCourseFees, analyticsData.totalCourseFees, analyticsData.totalCourseFees, analyticsData.totalCourseFees, analyticsData.totalCourseFees, analyticsData.totalCourseFees, analyticsData.totalCourseFees]
                }, {
                    name: 'Student Assessments',
                    data: [analyticsData.totalStudentAssessments, analyticsData.totalStudentAssessments, analyticsData.totalStudentAssessments, analyticsData.totalStudentAssessments, analyticsData.totalStudentAssessments, analyticsData.totalStudentAssessments, analyticsData.totalStudentAssessments]
                }, {
                    name: 'Course Exams',
                    data: [analyticsData.totalCourseExams, analyticsData.totalCourseExams, analyticsData.totalCourseExams, analyticsData.totalCourseExams, analyticsData.totalCourseExams, analyticsData.totalCourseExams, analyticsData.totalCourseExams]
                }, {
                    name: 'Student Attendance',
                    data: [analyticsData.totalStudentAttendance, analyticsData.totalStudentAttendance, analyticsData.totalStudentAttendance, analyticsData.totalStudentAttendance, analyticsData.totalStudentAttendance, analyticsData.totalStudentAttendance, analyticsData.totalStudentAttendance]
                }],
                chart: {
                    height: 350,
                    type: 'line',
                    toolbar: {
                        show: false
                    }
                },
                stroke: {
                    width: [2, 2, 2, 2, 2, 2, 2, 2, 2],
                    curve: 'smooth'
                },
                xaxis: {
                    categories: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],
                },
                colors: ['#556ee6', '#34c38f', '#f46a6a', '#f1b44c', '#50a5f1', '#ff7f50', '#7c4dff', '#00bfa5', '#ffb22b'],
                markers: {
                    size: 4
                }
            };

            var chart = new ApexCharts(document.querySelector("#sales-analytics-chart"), options);
            chart.render();
        });
    </script>
}

@* <!-- Include ApexCharts JS -->
@section scripts {
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script>
        // Function to create and display charts
        function createChart(elementId, data, label) {
            var options = {
                series: [{
                    name: label,
                    data: data
                }],
                chart: {
                    height: 100,
                    type: 'area',
                    sparkline: {
                        enabled: true
                    }
                },
                stroke: {
                    curve: 'smooth',
                    width: 2
                },
                fill: {
                    type: 'gradient',
                    gradient: {
                        shadeIntensity: 1,
                        opacityFrom: 0.7,
                        opacityTo: 0.9,
                        stops: [0, 90, 100]
                    }
                },
                markers: {
                    size: 0
                },
                colors: ['#556ee6'],
                tooltip: {
                    fixed: {
                        enabled: false
                    },
                    x: {
                        show: false
                    },
                    y: {
                        title: {
                            formatter: function (seriesName) {
                                return '';
                            }
                        }
                    },
                    marker: {
                        show: false
                    }
                }
            };

            var chart = new ApexCharts(document.querySelector(elementId), options);
            chart.render();
        }

        // Data for charts
        var batchesData = [10, 15, 9, 17, 14, 13, 10];
        var employeesData = [12, 14, 11, 18, 13, 12, 14];
        var enrollmentsData = [13, 12, 15, 17, 12, 15, 16];
        var coursesData = [10, 10, 12, 13, 14, 13, 12];
        var courseExamsData = [12, 13, 11, 12, 15, 14, 13];
        var inquiriesData = [15, 14, 13, 12, 11, 10, 12];
        var studentAssessmentsData = [11, 12, 13, 14, 13, 12, 11];
        var attendanceData = [13, 14, 15, 16, 15, 14, 13];

        // Creating charts
        createChart('#batches-chart', batchesData, 'Total Batches');
        createChart('#employees-chart', employeesData, 'Total Employees');
        createChart('#enrollments-chart', enrollmentsData, 'Total Enrollments');
        createChart('#courses-chart', coursesData, 'Total Courses');
        createChart('#course-exams-chart', courseExamsData, 'Total Course Exams');
        createChart('#inquiries-chart', inquiriesData, 'Total Inquiries');
        createChart('#student-assessments-chart', studentAssessmentsData, 'Total Student Assessments');
        createChart('#attendance-chart', attendanceData, 'Total Attendance');

        // Sales Analytics Chart
        var salesOptions = {
            series: [{
                name: 'Employee',
                type: 'column',
                data: [23, 14, 11, 24, 15, 19, 24]
            }, {
                name: 'Batch',
                type: 'line',
                data: [15, 13, 11, 16, 12, 15, 18]
            }],
            chart: {
                height: 350,
                type: 'line',
                toolbar: {
                    show: false
                }
            },
            stroke: {
                width: [0, 3]
            },
            title: {
                text: 'Student Sync Analytics'
            },
            xaxis: {
                categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul']
            },
            yaxis: [{
                title: {
                    text: 'Employee'
                },
            }, {
                opposite: true,
                title: {
                    text: 'Batch'
                }
            }],
            tooltip: {
                shared: true,
                intersect: false,
                y: {
                    formatter: function (y) {
                        if (typeof y !== "undefined") {
                            return y.toFixed(0) + " units";
                        }
                        return y;
                    }
                }
            }
        };

        var salesChart = new ApexCharts(document.querySelector("#sales-analytics-chart"), salesOptions);
        salesChart.render();
    </script>
} *@
